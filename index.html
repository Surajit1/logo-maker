<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Logo Maker - Design Your Unique Logo</title>
  <meta name="description" content="Create stunning logos with our free online logo maker. Design your unique logo with AnimationOdisha.">
  <meta name="keywords" content="logo maker, design logo, free logo creator, online logo design">
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
  <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
  <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
  <script src="https://unpkg.com/html2canvas@1.4.1/dist/html2canvas.min.js"></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
  <style>
    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }
    
    body {
      font-family: 'Inter', sans-serif;
      background-color: #f9fafb;
      color: #1f2937;
      min-height: 100vh;
    }
    
    .logo-canvas {
      box-shadow: 0 4px 20px rgba(0, 0, 0, 0.08);
      transition: all 0.3s ease;
    }
    
    .element-handle {
      cursor: move;
      transition: transform 0.2s ease;
    }
    
    .element-handle:hover {
      transform: scale(1.02);
    }
    
    .element-handle:active {
      transform: scale(1.03);
      cursor: grabbing;
    }
    
    .tool-btn {
      transition: all 0.2s ease;
    }
    
    .tool-btn:hover {
      transform: translateY(-2px);
      box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
    }
    
    .selected-element {
      outline: 2px dashed #3b82f6;
    }
    
    .history-btn:disabled {
      opacity: 0.5;
      cursor: not-allowed;
    }
    
    /* Custom scrollbar */
    ::-webkit-scrollbar {
      width: 8px;
      height: 8px;
    }
    
    ::-webkit-scrollbar-track {
      background: #f1f1f1;
    }
    
    ::-webkit-scrollbar-thumb {
      background: #c5c5c5;
      border-radius: 4px;
    }
    
    ::-webkit-scrollbar-thumb:hover {
      background: #a8a8a8;
    }
    
    @media (max-width: 768px) {
      .mobile-flex-col {
        flex-direction: column;
      }
      
      .mobile-w-full {
        width: 100%;
      }
      
      .mobile-mt-4 {
        margin-top: 1rem;
      }
      
      .toolbar-section {
        padding: 0.75rem;
      }
    }
  </style>
</head>
<body>
  <div id="root" class="min-h-screen flex flex-col"></div>

  <script type="text/babel">
    const { useState, useRef, useEffect } = React;

    const LogoMaker = () => {
      // App state
      const [elements, setElements] = useState([]);
      const [selectedElementId, setSelectedElementId] = useState(null);
      const [canvasBackground, setCanvasBackground] = useState('#ffffff');
      const [history, setHistory] = useState([{ elements: [], background: '#ffffff' }]);
      const [historyIndex, setHistoryIndex] = useState(0);
      const canvasRef = useRef(null);
      
      // Text element defaults
      const defaultTextElement = {
        content: 'Your Text',
        fontSize: 24,
        color: '#000000',
        isBold: false,
        alignment: 'left',
        position: { x: 50, y: 50 }
      };

      // Save state to history
      const saveToHistory = () => {
        const newHistory = history.slice(0, historyIndex + 1);
        newHistory.push({
          elements: JSON.parse(JSON.stringify(elements)),
          background: canvasBackground
        });
        setHistory(newHistory);
        setHistoryIndex(newHistory.length - 1);
      };

      // Undo functionality
      const handleUndo = () => {
        if (historyIndex > 0) {
          const newIndex = historyIndex - 1;
          setHistoryIndex(newIndex);
          setElements(history[newIndex].elements);
          setCanvasBackground(history[newIndex].background);
        }
      };

      // Redo functionality
      const handleRedo = () => {
        if (historyIndex < history.length - 1) {
          const newIndex = historyIndex + 1;
          setHistoryIndex(newIndex);
          setElements(history[newIndex].elements);
          setCanvasBackground(history[newIndex].background);
        }
      };

      // Add text element
      const addTextElement = () => {
        const newElement = {
          id: `text-${Date.now()}`,
          type: 'text',
          ...defaultTextElement,
          position: { x: 100, y: 100 }
        };
        
        saveToHistory();
        setElements([...elements, newElement]);
        setSelectedElementId(newElement.id);
      };

      // Add image element
      const addImageElement = (file) => {
        const reader = new FileReader();
        reader.onload = (e) => {
          const newElement = {
            id: `image-${Date.now()}`,
            type: 'image',
            src: e.target.result,
            width: 100,
            height: 100,
            position: { x: 150, y: 150 }
          };
          
          saveToHistory();
          setElements([...elements, newElement]);
          setSelectedElementId(newElement.id);
        };
        reader.readAsDataURL(file);
      };

      // Handle image upload
      const handleImageUpload = (e) => {
        const file = e.target.files[0];
        if (file) {
          addImageElement(file);
        }
      };

      // Update element properties
      const updateElement = (id, updates) => {
        const updatedElements = elements.map(element => {
          if (element.id === id) {
            return { ...element, ...updates };
          }
          return element;
        });
        
        saveToHistory();
        setElements(updatedElements);
      };

      // Delete selected element
      const deleteElement = () => {
        if (selectedElementId) {
          saveToHistory();
          setElements(elements.filter(el => el.id !== selectedElementId));
          setSelectedElementId(null);
        }
      };

      // Handle canvas click (deselect)
      const handleCanvasClick = (e) => {
        if (e.target === canvasRef.current) {
          setSelectedElementId(null);
        }
      };

      // Handle element drag
      const handleElementDrag = (id, newPosition) => {
        updateElement(id, { position: newPosition });
      };

      // Download canvas as PNG
      const downloadCanvas = () => {
        if (canvasRef.current) {
          html2canvas(canvasRef.current, { 
            backgroundColor: canvasBackground,
            scale: 2 // Higher quality
          }).then(canvas => {
            const link = document.createElement('a');
            link.download = 'logo-maker-design.png';
            link.href = canvas.toDataURL('image/png');
            link.click();
          });
        }
      };

      // Get selected element
      const selectedElement = elements.find(el => el.id === selectedElementId);

      return (
        <div className="min-h-screen bg-gray-50 flex flex-col">
          {/* Header */}
          <header className="bg-gradient-to-r from-blue-600 to-indigo-700 text-white p-4 shadow-md">
            <div className="container mx-auto flex flex-col md:flex-row items-center justify-between">
              <div className="flex items-center space-x-3 mb-3 md:mb-0">
                <div className="bg-white text-blue-600 font-bold w-10 h-10 rounded-full flex items-center justify-center">
                  LM
                </div>
                <h1 className="text-2xl font-bold">logo-maker</h1>
              </div>
              <div>
                <h2 className="text-lg font-medium text-center md:text-left">Design your unique logo with AnimationOdisha</h2>
              </div>
            </div>
          </header>

          {/* Main Content */}
          <main className="flex-grow flex flex-col md:flex-row p-4 gap-4 container mx-auto mobile-flex-col">
            {/* Toolbar */}
            <div className="bg-white rounded-xl shadow-md p-4 w-full md:w-64 flex-shrink-0">
              <Toolbar 
                addTextElement={addTextElement}
                handleImageUpload={handleImageUpload}
                canvasBackground={canvasBackground}
                setCanvasBackground={(color) => {
                  saveToHistory();
                  setCanvasBackground(color);
                }}
                selectedElement={selectedElement}
                updateElement={updateElement}
                deleteElement={deleteElement}
                handleUndo={handleUndo}
                handleRedo={handleRedo}
                canUndo={historyIndex > 0}
                canRedo={historyIndex < history.length - 1}
              />
            </div>

            {/* Canvas Area */}
            <div className="flex-grow flex flex-col">
              <div className="bg-gray-100 rounded-xl shadow-inner p-4 flex-grow flex items-center justify-center">
                <div 
                  ref={canvasRef}
                  className="relative bg-white shadow-lg w-full max-w-3xl aspect-square logo-canvas"
                  style={{ backgroundColor: canvasBackground }}
                  onClick={handleCanvasClick}
                >
                  {elements.map((element) => (
                    <CanvasElement
                      key={element.id}
                      element={element}
                      isSelected={selectedElementId === element.id}
                      onSelect={() => setSelectedElementId(element.id)}
                      onDrag={handleElementDrag}
                    />
                  ))}
                </div>
              </div>
              
              {/* Download Button */}
              <div className="mt-4 flex justify-center">
                <button 
                  onClick={downloadCanvas}
                  className="bg-gradient-to-r from-blue-600 to-indigo-700 text-white px-6 py-3 rounded-full font-medium shadow-md hover:shadow-lg transition-all tool-btn"
                >
                  <i className="fas fa-download mr-2"></i>Download Logo as PNG
                </button>
              </div>
            </div>
          </main>

          {/* Footer */}
          <footer className="bg-gray-800 text-white p-4 text-center text-sm mt-4">
            <p>Â© {new Date().getFullYear()} Logo Maker. All rights reserved.</p>
          </footer>
        </div>
      );
    };

    // Toolbar Component
    const Toolbar = ({ 
      addTextElement, 
      handleImageUpload, 
      canvasBackground, 
      setCanvasBackground,
      selectedElement,
      updateElement,
      deleteElement,
      handleUndo,
      handleRedo,
      canUndo,
      canRedo
    }) => {
      return (
        <div className="space-y-6">
          <div className="space-y-3 toolbar-section">
            <h3 className="font-bold text-lg text-gray-800 flex items-center">
              <i className="fas fa-plus-circle mr-2 text-blue-500"></i>Add Elements
            </h3>
            <div className="flex gap-2">
              <button 
                onClick={addTextElement}
                className="flex-1 bg-blue-100 text-blue-700 py-2 rounded-lg font-medium hover:bg-blue-200 transition-colors tool-btn flex items-center justify-center"
              >
                <i className="fas fa-font mr-2"></i>Text
              </button>
              
              <label className="flex-1 bg-blue-100 text-blue-700 py-2 rounded-lg font-medium hover:bg-blue-200 transition-colors tool-btn flex items-center justify-center cursor-pointer">
                <i className="fas fa-image mr-2"></i>Image
                <input 
                  type="file" 
                  accept="image/*" 
                  className="hidden" 
                  onChange={handleImageUpload}
                />
              </label>
            </div>
          </div>

          <div className="space-y-3 toolbar-section">
            <h3 className="font-bold text-lg text-gray-800 flex items-center">
              <i className="fas fa-palette mr-2 text-purple-500"></i>Canvas
            </h3>
            <div className="space-y-2">
              <label className="block text-sm text-gray-700">Background Color</label>
              <div className="flex items-center gap-2">
                <input 
                  type="color" 
                  value={canvasBackground}
                  onChange={(e) => setCanvasBackground(e.target.value)}
                  className="w-10 h-10 cursor-pointer"
                />
                <input 
                  type="text" 
                  value={canvasBackground}
                  onChange={(e) => setCanvasBackground(e.target.value)}
                  className="border rounded px-2 py-1 text-sm w-24"
                />
              </div>
            </div>
          </div>

          {/* History Controls */}
          <div className="space-y-3 toolbar-section">
            <h3 className="font-bold text-lg text-gray-800 flex items-center">
              <i className="fas fa-history mr-2 text-green-500"></i>History
            </h3>
            <div className="flex gap-2">
              <button 
                onClick={handleUndo}
                disabled={!canUndo}
                className={`flex-1 py-2 rounded-lg font-medium flex items-center justify-center ${
                  canUndo 
                    ? 'bg-gray-200 text-gray-800 hover:bg-gray-300' 
                    : 'bg-gray-100 text-gray-400 cursor-not-allowed'
                } history-btn`}
              >
                <i className="fas fa-undo mr-2"></i>Undo
              </button>
              <button 
                onClick={handleRedo}
                disabled={!canRedo}
                className={`flex-1 py-2 rounded-lg font-medium flex items-center justify-center ${
                  canRedo 
                    ? 'bg-gray-200 text-gray-800 hover:bg-gray-300' 
                    : 'bg-gray-100 text-gray-400 cursor-not-allowed'
                } history-btn`}
              >
                <i className="fas fa-redo mr-2"></i>Redo
              </button>
            </div>
          </div>

          {/* Element Editing */}
          {selectedElement && (
            <div className="space-y-3 pt-4 border-t border-gray-200 toolbar-section">
              <h3 className="font-bold text-lg text-gray-800 flex items-center">
                <i className="fas fa-sliders-h mr-2 text-yellow-500"></i>
                {selectedElement.type === 'text' ? 'Text' : 'Image'} Settings
              </h3>
              
              {selectedElement.type === 'text' && (
                <div className="space-y-3">
                  <div>
                    <label className="block text-sm text-gray-700 mb-1">Text Content</label>
                    <input
                      type="text"
                      value={selectedElement.content}
                      onChange={(e) => updateElement(selectedElement.id, { content: e.target.value })}
                      className="w-full border rounded px-3 py-2 text-sm"
                    />
                  </div>
                  
                  <div>
                    <label className="block text-sm text-gray-700 mb-1">Font Size</label>
                    <div className="flex items-center gap-2">
                      <input
                        type="range"
                        min="12"
                        max="72"
                        value={selectedElement.fontSize}
                        onChange={(e) => updateElement(selectedElement.id, { fontSize: parseInt(e.target.value) })}
                        className="w-full"
                      />
                      <span className="text-sm w-12">{selectedElement.fontSize}px</span>
                    </div>
                  </div>
                  
                  <div>
                    <label className="block text-sm text-gray-700 mb-1">Text Color</label>
                    <div className="flex items-center gap-2">
                      <input 
                        type="color" 
                        value={selectedElement.color}
                        onChange={(e) => updateElement(selectedElement.id, { color: e.target.value })}
                        className="w-8 h-8 cursor-pointer"
                      />
                      <input 
                        type="text" 
                        value={selectedElement.color}
                        onChange={(e) => updateElement(selectedElement.id, { color: e.target.value })}
                        className="border rounded px-2 py-1 text-sm w-24"
                      />
                    </div>
                  </div>
                  
                  <div className="flex flex-wrap gap-2">
                    <button
                      onClick={() => updateElement(selectedElement.id, { isBold: !selectedElement.isBold })}
                      className={`flex-1 py-2 rounded-lg font-medium flex items-center justify-center ${
                        selectedElement.isBold 
                          ? 'bg-blue-100 text-blue-700' 
                          : 'bg-gray-100 text-gray-700'
                      }`}
                    >
                      <i className="fas fa-bold mr-2"></i>Bold
                    </button>
                    
                    <div className="flex gap-1">
                      {['left', 'center', 'right'].map(align => (
                        <button
                          key={align}
                          onClick={() => updateElement(selectedElement.id, { alignment: align })}
                          className={`p-2 rounded-lg flex items-center ${
                            selectedElement.alignment === align 
                              ? 'bg-blue-100 text-blue-700' 
                              : 'bg-gray-100 text-gray-700'
                          }`}
                          style={{ minWidth: '40px' }}
                        >
                          {align === 'left' && <i className="fas fa-align-left"></i>}
                          {align === 'center' && <i className="fas fa-align-center"></i>}
                          {align === 'right' && <i className="fas fa-align-right"></i>}
                        </button>
                      ))}
                    </div>
                  </div>
                </div>
              )}
              
              {selectedElement.type === 'image' && (
                <div>
                  <div className="mb-3">
                    <img 
                      src={selectedElement.src} 
                      alt="Uploaded" 
                      className="max-w-full h-24 object-contain mx-auto"
                    />
                  </div>
                  
                  <div>
                    <label className="block text-sm text-gray-700 mb-1">Size</label>
                    <div className="flex items-center gap-2">
                      <input
                        type="range"
                        min="50"
                        max="300"
                        value={selectedElement.width}
                        onChange={(e) => updateElement(selectedElement.id, { 
                          width: parseInt(e.target.value),
                          height: parseInt(e.target.value) 
                        })}
                        className="w-full"
                      />
                      <span className="text-sm w-12">{selectedElement.width}px</span>
                    </div>
                  </div>
                </div>
              )}
              
              <button
                onClick={deleteElement}
                className="w-full bg-red-100 text-red-700 py-2 rounded-lg font-medium hover:bg-red-200 transition-colors flex items-center justify-center"
              >
                <i className="fas fa-trash mr-2"></i>Delete Element
              </button>
            </div>
          )}
        </div>
      );
    };

    // Canvas Element Component
    const CanvasElement = ({ element, isSelected, onSelect, onDrag }) => {
      const elementRef = useRef(null);
      const [isDragging, setIsDragging] = useState(false);
      const [dragOffset, setDragOffset] = useState({ x: 0, y: 0 });

      // Handle mouse down for dragging
      const handleMouseDown = (e) => {
        if (e.button !== 0) return; // Only left mouse button
        
        onSelect();
        
        const rect = elementRef.current.getBoundingClientRect();
        setDragOffset({
          x: e.clientX - rect.left,
          y: e.clientY - rect.top
        });
        
        setIsDragging(true);
      };

      // Handle mouse move for dragging
      const handleMouseMove = (e) => {
        if (isDragging) {
          const containerRect = elementRef.current.parentElement.getBoundingClientRect();
          const x = e.clientX - containerRect.left - dragOffset.x;
          const y = e.clientY - containerRect.top - dragOffset.y;
          
          // Keep element within canvas bounds
          const boundedX = Math.max(0, Math.min(x, containerRect.width - elementRef.current.offsetWidth));
          const boundedY = Math.max(0, Math.min(y, containerRect.height - elementRef.current.offsetHeight));
          
          onDrag(element.id, { x: boundedX, y: boundedY });
        }
      };

      // Handle mouse up to stop dragging
      const handleMouseUp = () => {
        setIsDragging(false);
      };

      // Add event listeners for dragging
      useEffect(() => {
        if (isDragging) {
          window.addEventListener('mousemove', handleMouseMove);
          window.addEventListener('mouseup', handleMouseUp);
          return () => {
            window.removeEventListener('mousemove', handleMouseMove);
            window.removeEventListener('mouseup', handleMouseUp);
          };
        }
      }, [isDragging, dragOffset]);

      // Render text element
      if (element.type === 'text') {
        const style = {
          left: `${element.position.x}px`,
          top: `${element.position.y}px`,
          fontSize: `${element.fontSize}px`,
          color: element.color,
          fontWeight: element.isBold ? 'bold' : 'normal',
          textAlign: element.alignment,
          cursor: 'move',
          userSelect: 'none',
          position: 'absolute',
          padding: '4px',
          minWidth: '50px',
          maxWidth: '80%',
          wordBreak: 'break-word'
        };

        return (
          <div
            ref={elementRef}
            className={`element-handle ${isSelected ? 'selected-element' : ''}`}
            style={style}
            onMouseDown={handleMouseDown}
          >
            {element.content}
          </div>
        );
      }

      // Render image element
      if (element.type === 'image') {
        return (
          <div
            ref={elementRef}
            className={`element-handle ${isSelected ? 'selected-element' : ''}`}
            style={{
              left: `${element.position.x}px`,
              top: `${element.position.y}px`,
              position: 'absolute',
              cursor: 'move',
              width: `${element.width}px`,
              height: `${element.height}px`
            }}
            onMouseDown={handleMouseDown}
          >
            <img 
              src={element.src} 
              alt="Logo element" 
              className="w-full h-full object-contain pointer-events-none"
            />
          </div>
        );
      }

      return null;
    };

    // Render the app
    const root = ReactDOM.createRoot(document.getElementById('root'));
    root.render(<LogoMaker />);
  </script>
</body>
</html>